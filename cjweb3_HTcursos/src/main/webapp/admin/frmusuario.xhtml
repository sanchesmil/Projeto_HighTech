<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<!-- xmlns são bibliotecas de componentes gráficos (ns = namespace) -->
<h:head></h:head>
<h:body>
	<h:form>
		<!-- Panel: Container que armazena um grupo de Objetos que pode ter 
	            processamento individual como parte do processamento geral -->
		<p:panel header="Cadastro de Usuário">

			<!-- Messages: Componente que mostra as mensagens vidas dos Beans p/ tela -->
			<p:messages>
			</p:messages>

			<!-- PanelGrid: Organiza os componentes por colunas -->
			<p:panelGrid columns="2">
							
				<!-- outputText: componente de rótulo (= label) -->
				<h:outputText value="Nome" />
				
				<!-- #{} = EL (Linguagem de expressão)  permite acessar um objeto que está na memória.
				
				Obs.: Para chamar diretamente um Bean criado pelo Spring (ex. usuarioBean) , devemos registrar a EL  no 'faces-config.xml'  --> 
					
				<!--  inputText: Componente de entrada de texto, vinculado a uma propriedade do Bean gerenciável(usuarioBean) -->
				<p:inputText value="#{usuarioBean.usuario.nome}"> </p:inputText>
				
				
				<h:outputText value="E-mail" />
				<p:inputText value="#{usuarioBean.usuario.email}"> </p:inputText>
				
				<h:outputText value="Senha" />
				<p:password value="#{usuarioBean.usuario.senha}"> </p:password>
				
			</p:panelGrid>
			
			<!-- update="@form" : Parâmetro que atualiza todos os componentes do form após chamar o método salvar -->
			<p:commandButton value="Salvar" action="#{usuarioBean.salvar}" update="@form"></p:commandButton>

		</p:panel>
		<p:panel header="Lista de Usuários">
				<!-- dataTable: Tabela.  Cada usuario da lista vai ser representado pela variavel 'usuario'  -->
				<p:dataTable value="#{usuarioBean.listaDeUsuarios}" var="usuario" rows="5" paginator="true" paginatorAlwaysVisible="false">
					<p:column  headerText="Id">
						<p:outputLabel value="#{usuario.id}" />
					</p:column>
					
					<p:column  headerText="Nome">
						<p:outputLabel value="#{usuario.nome}" />
					</p:column>
					<p:column headerText="E-mail">
						<p:outputLabel value="#{usuario.email}" />
					</p:column>
				</p:dataTable>
		</p:panel>
	</h:form>

</h:body>
</html>
